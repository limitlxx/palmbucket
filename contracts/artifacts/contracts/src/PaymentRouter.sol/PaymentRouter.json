{
  "_format": "hh-sol-artifact-1",
  "contractName": "PaymentRouter",
  "sourceName": "contracts/src/PaymentRouter.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "AutoSplitNotEnabled",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InsufficientAllowance",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidBucketAddresses",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidRatioSum",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidToken",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferFailed",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "AutoSplitDisabled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "approvalAmount",
          "type": "uint256"
        }
      ],
      "name": "AutoSplitEnabled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "reason",
          "type": "string"
        }
      ],
      "name": "AutoSplitSkipped",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address[4]",
          "name": "buckets",
          "type": "address[4]"
        }
      ],
      "name": "BucketAddressesUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256[4]",
          "name": "amounts",
          "type": "uint256[4]"
        }
      ],
      "name": "PaymentRouted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256[4]",
          "name": "ratios",
          "type": "uint256[4]"
        }
      ],
      "name": "SplitRatiosUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "NUM_BUCKETS",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "RATIO_DENOMINATOR",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "autoSplitEnabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "disableAutoSplit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "enableAutoSplit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserBuckets",
      "outputs": [
        {
          "internalType": "address[4]",
          "name": "",
          "type": "address[4]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserRatios",
      "outputs": [
        {
          "internalType": "uint256[4]",
          "name": "",
          "type": "uint256[4]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "isAutoSplitEnabled",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "isUserInitialized",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "routePayment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[4]",
          "name": "buckets",
          "type": "address[4]"
        }
      ],
      "name": "setBucketAddresses",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256[4]",
          "name": "ratios",
          "type": "uint256[4]"
        }
      ],
      "name": "setSplitRatios",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "userConfigs",
      "outputs": [
        {
          "internalType": "bool",
          "name": "initialized",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080806040523461007e5733156100685760008054336001600160a01b03198216811783556040519290916001600160a01b0316907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a360018055610cfd90816100848239f35b631e4fbdf760e01b815260006004820152602490fd5b600080fdfe6040608081526004908136101561001557600080fd5b600091823560e01c9081634dbca0c614610a8d5781635d4697d014610a6d578163715018a614610a13578163821a20fa1461033757816385a4f0c61461096e5781638da5cb5b14610946578163a353dccd146108c5578163ab3b1675146104f9578163b7a0e245146103ef578163bcb5a3c314610382578163c2200e3c14610337578163c56ca84e1461031a578163e578d9f0146101ca578163f19562b6146101ae578163f2fde38b14610123575063fd6ee341146100d357600080fd5b3461011f578060031936011261011f5760ff816020936100f1610b47565b6100f9610b62565b6001600160a01b0391821683526003875283832091168252855220549151911615158152f35b5080fd5b9050346101aa5760203660031901126101aa5761013e610b47565b90610147610ba0565b6001600160a01b0391821692831561019457505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b51631e4fbdf760e01b8152908101849052602490fd5b8280fd5b50503461011f578160031936011261011f576020905160648152f35b9050346101aa57602080600319360112610316576001600160a01b036101ee610b47565b169283156102e5578051636eb1769f60e11b8152338482019081523060208201529093908390859081906040010381885afa9384156102db5786946102a8575b5064e8d4a51000841080159061029d575b1561028f5750907f92a634f4efda2c4dd344b2e859b73c5d3a09cab8787416eda4696b4280b5e35291338652600382528086208587528252808620600160ff19825416179055519283523392a380f35b90516313be252b60e01b8152fd5b50600019841461023f565b9093508281813d83116102d4575b6102c08183610c70565b810103126102d05751923861022e565b8580fd5b503d6102b6565b82513d88823e3d90fd5b5162461bcd60e51b815291820152600d60248201526c24b73b30b634b2103a37b5b2b760991b604482015260649150fd5b8380fd5b919050346101aa57826003193601126101aa576020925051908152f35b50503461011f57602036600319011261011f57602090610379610358610b47565b6001600160a01b031660009081526002602052604090206008015460ff1690565b90519015158152f35b50503461011f57602036600319011261011f5761039d610b47565b33808452600360209081528385206001600160a01b03909316808652929052918320805460ff19169055907fc16d5320df3f244b8bbff0ab796e300db3add720d0c7bf1e067e8bba93a300418380a380f35b919050346101aa5760803660031901126101aa57366084116101aa57825b8281106104be57503383526020916002835281842081855b8381106104a2575050600801805460ff191660019081179091559151928482855b8483106104775787337fcee4e35156a84795f3ac8037ae3df62398280b37c867eae82fafa20be2efb64960808aa280f35b81356001600160a01b038116919082900361049e5790815291850191908301908301610446565b8880fd5b600190866104af84610c2a565b93019285828601015501610425565b6001600160a01b036104d76104d283610bf1565b610c2a565b16156104eb576104e690610bcc565b61040d565b5051637315c55b60e11b8152fd5b9050346101aa57816003193601126101aa57610513610b47565b602480359160019460028654146108b657600286556001600160a01b039182169485156108a857841561089a57338852602092600284528289209060ff6008830154161561088a578351636eb1769f60e11b81523384820190815230602082015286908290819060400103818c5afa908115610880579088918c9161084b575b50106107de578351956105a587610c3e565b60803688378a808b5b61076a575b5088038881116107585790889160608901528b878b60648951809481936323b872dd60e01b8352338c8401523088840152604498898401525af190811561074e578d91610731575b5015610721578b5b8c8b87831061064b5788518c81528e9190610620818d018e610b78565b7f42df61625028a3f528370018e1b7e3a15e2aa4acdd8e359ca0c23f7d48e6029160a03392a3805580f35b898b8688938c8c8c61065d8a87610c19565b5161067a575b50505050505050505061067590610bcc565b610603565b918161069761068e8c8097958d9701610c9f565b96905498610c19565b519151988997889663a9059cbb60e01b885260031b1c16908501528a8401525af191821561071657916106e9575b50156106d9578c84898b868f8c8c8c610663565b86516312171d8360e31b81528690fd5b6107099150893d8b1161070f575b6107018183610c70565b810190610caf565b386106c5565b503d6106f7565b8951903d90823e3d90fd5b85516312171d8360e31b81528590fd5b6107489150883d8a1161070f576107018183610c70565b386105fb565b87513d8f823e3d90fd5b50634e487b7160e01b8b52601184528afd5b906003808310156107d75761077f8387610c9f565b9054911b1c808b02908b8204036107c5576107b98d928b6107a78660646107bf960492610c19565b526107b2858d610c19565b5190610c92565b92610bcc565b906105ae565b634e487b7160e01b8e5260118752838efd5b50906105b3565b8284898982898151928352820152601b838201527f496e73756666696369656e7420746f6b656e20617070726f76616c000000000060608201527f1d729d02667df79f7682ad46806c68de7356bb6670b3ec683c8fba85c0eb580260803392a3516313be252b60e01b8152fd5b809250878092503d8311610879575b6108648183610c70565b810103126108755787905138610593565b8a80fd5b503d61085a565b85513d8d823e3d90fd5b8351637315c55b60e11b81528390fd5b905163162908e360e11b8152fd5b905163c1ab6dc160e01b8152fd5b51633ee5aeb560e01b81528490fd5b8391503461011f576020918260031936011261094357916108e4610b47565b608085516108f181610c3e565b3690376001600160a01b03168352600281528383208451939190845b84841061092e5760808661092c8961092483610c3e565b518092610b78565bf35b6001838192845481520192019301929061090d565b80fd5b50503461011f578160031936011261011f57905490516001600160a01b039091168152602090f35b905082346109435760209081600319360112610943579261098d610b47565b936080825161099b81610c3e565b3690376001600160a01b039485168152600283528181208251929085018285855b8883106109fa57505050506109d083610c3e565b5194859291925b8584106109e357608087f35b8480600192848651168152019301930192916109d7565b83548a16815260019384019392909201918791016109bc565b8334610943578060031936011261094357610a2c610ba0565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b50503461011f578060031936011261011f5760ff816020936100f1610b47565b919050346101aa5760803660031901126101aa57366084116101aa5782805b838210610b24576064915003610b17573383526020600281528184208390855b858110610b05578686608087519182377fa790532ac0f083e4ad5aba33e29daaa86ba16e95a4cb9b8347233e1b8f4ff5af60803392a280f35b82358282015591830191600101610acc565b51632490d4bb60e01b8152fd5b610b3b610b4191610b3484610bf1565b3590610c92565b91610bcc565b90610aac565b600435906001600160a01b0382168203610b5d57565b600080fd5b602435906001600160a01b0382168203610b5d57565b6000915b60048310610b8957505050565b600190825181526020809101920192019190610b7c565b6000546001600160a01b03163303610bb457565b60405163118cdaa760e01b8152336004820152602490fd5b6000198114610bdb5760010190565b634e487b7160e01b600052601160045260246000fd5b6004811015610c035760051b60040190565b634e487b7160e01b600052603260045260246000fd5b906004811015610c035760051b0190565b356001600160a01b0381168103610b5d5790565b6080810190811067ffffffffffffffff821117610c5a57604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610c5a57604052565b91908201809211610bdb57565b6004821015610c03570190600090565b90816020910312610b5d57518015158103610b5d579056fea26469706673582212201af00a3eb398ac31bf223437fe81a1a2308fc708a6caa25d1a8ee2775f721cb064736f6c63430008140033",
  "deployedBytecode": "0x6040608081526004908136101561001557600080fd5b600091823560e01c9081634dbca0c614610a8d5781635d4697d014610a6d578163715018a614610a13578163821a20fa1461033757816385a4f0c61461096e5781638da5cb5b14610946578163a353dccd146108c5578163ab3b1675146104f9578163b7a0e245146103ef578163bcb5a3c314610382578163c2200e3c14610337578163c56ca84e1461031a578163e578d9f0146101ca578163f19562b6146101ae578163f2fde38b14610123575063fd6ee341146100d357600080fd5b3461011f578060031936011261011f5760ff816020936100f1610b47565b6100f9610b62565b6001600160a01b0391821683526003875283832091168252855220549151911615158152f35b5080fd5b9050346101aa5760203660031901126101aa5761013e610b47565b90610147610ba0565b6001600160a01b0391821692831561019457505082546001600160a01b0319811683178455167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b51631e4fbdf760e01b8152908101849052602490fd5b8280fd5b50503461011f578160031936011261011f576020905160648152f35b9050346101aa57602080600319360112610316576001600160a01b036101ee610b47565b169283156102e5578051636eb1769f60e11b8152338482019081523060208201529093908390859081906040010381885afa9384156102db5786946102a8575b5064e8d4a51000841080159061029d575b1561028f5750907f92a634f4efda2c4dd344b2e859b73c5d3a09cab8787416eda4696b4280b5e35291338652600382528086208587528252808620600160ff19825416179055519283523392a380f35b90516313be252b60e01b8152fd5b50600019841461023f565b9093508281813d83116102d4575b6102c08183610c70565b810103126102d05751923861022e565b8580fd5b503d6102b6565b82513d88823e3d90fd5b5162461bcd60e51b815291820152600d60248201526c24b73b30b634b2103a37b5b2b760991b604482015260649150fd5b8380fd5b919050346101aa57826003193601126101aa576020925051908152f35b50503461011f57602036600319011261011f57602090610379610358610b47565b6001600160a01b031660009081526002602052604090206008015460ff1690565b90519015158152f35b50503461011f57602036600319011261011f5761039d610b47565b33808452600360209081528385206001600160a01b03909316808652929052918320805460ff19169055907fc16d5320df3f244b8bbff0ab796e300db3add720d0c7bf1e067e8bba93a300418380a380f35b919050346101aa5760803660031901126101aa57366084116101aa57825b8281106104be57503383526020916002835281842081855b8381106104a2575050600801805460ff191660019081179091559151928482855b8483106104775787337fcee4e35156a84795f3ac8037ae3df62398280b37c867eae82fafa20be2efb64960808aa280f35b81356001600160a01b038116919082900361049e5790815291850191908301908301610446565b8880fd5b600190866104af84610c2a565b93019285828601015501610425565b6001600160a01b036104d76104d283610bf1565b610c2a565b16156104eb576104e690610bcc565b61040d565b5051637315c55b60e11b8152fd5b9050346101aa57816003193601126101aa57610513610b47565b602480359160019460028654146108b657600286556001600160a01b039182169485156108a857841561089a57338852602092600284528289209060ff6008830154161561088a578351636eb1769f60e11b81523384820190815230602082015286908290819060400103818c5afa908115610880579088918c9161084b575b50106107de578351956105a587610c3e565b60803688378a808b5b61076a575b5088038881116107585790889160608901528b878b60648951809481936323b872dd60e01b8352338c8401523088840152604498898401525af190811561074e578d91610731575b5015610721578b5b8c8b87831061064b5788518c81528e9190610620818d018e610b78565b7f42df61625028a3f528370018e1b7e3a15e2aa4acdd8e359ca0c23f7d48e6029160a03392a3805580f35b898b8688938c8c8c61065d8a87610c19565b5161067a575b50505050505050505061067590610bcc565b610603565b918161069761068e8c8097958d9701610c9f565b96905498610c19565b519151988997889663a9059cbb60e01b885260031b1c16908501528a8401525af191821561071657916106e9575b50156106d9578c84898b868f8c8c8c610663565b86516312171d8360e31b81528690fd5b6107099150893d8b1161070f575b6107018183610c70565b810190610caf565b386106c5565b503d6106f7565b8951903d90823e3d90fd5b85516312171d8360e31b81528590fd5b6107489150883d8a1161070f576107018183610c70565b386105fb565b87513d8f823e3d90fd5b50634e487b7160e01b8b52601184528afd5b906003808310156107d75761077f8387610c9f565b9054911b1c808b02908b8204036107c5576107b98d928b6107a78660646107bf960492610c19565b526107b2858d610c19565b5190610c92565b92610bcc565b906105ae565b634e487b7160e01b8e5260118752838efd5b50906105b3565b8284898982898151928352820152601b838201527f496e73756666696369656e7420746f6b656e20617070726f76616c000000000060608201527f1d729d02667df79f7682ad46806c68de7356bb6670b3ec683c8fba85c0eb580260803392a3516313be252b60e01b8152fd5b809250878092503d8311610879575b6108648183610c70565b810103126108755787905138610593565b8a80fd5b503d61085a565b85513d8d823e3d90fd5b8351637315c55b60e11b81528390fd5b905163162908e360e11b8152fd5b905163c1ab6dc160e01b8152fd5b51633ee5aeb560e01b81528490fd5b8391503461011f576020918260031936011261094357916108e4610b47565b608085516108f181610c3e565b3690376001600160a01b03168352600281528383208451939190845b84841061092e5760808661092c8961092483610c3e565b518092610b78565bf35b6001838192845481520192019301929061090d565b80fd5b50503461011f578160031936011261011f57905490516001600160a01b039091168152602090f35b905082346109435760209081600319360112610943579261098d610b47565b936080825161099b81610c3e565b3690376001600160a01b039485168152600283528181208251929085018285855b8883106109fa57505050506109d083610c3e565b5194859291925b8584106109e357608087f35b8480600192848651168152019301930192916109d7565b83548a16815260019384019392909201918791016109bc565b8334610943578060031936011261094357610a2c610ba0565b80546001600160a01b03198116825581906001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b50503461011f578060031936011261011f5760ff816020936100f1610b47565b919050346101aa5760803660031901126101aa57366084116101aa5782805b838210610b24576064915003610b17573383526020600281528184208390855b858110610b05578686608087519182377fa790532ac0f083e4ad5aba33e29daaa86ba16e95a4cb9b8347233e1b8f4ff5af60803392a280f35b82358282015591830191600101610acc565b51632490d4bb60e01b8152fd5b610b3b610b4191610b3484610bf1565b3590610c92565b91610bcc565b90610aac565b600435906001600160a01b0382168203610b5d57565b600080fd5b602435906001600160a01b0382168203610b5d57565b6000915b60048310610b8957505050565b600190825181526020809101920192019190610b7c565b6000546001600160a01b03163303610bb457565b60405163118cdaa760e01b8152336004820152602490fd5b6000198114610bdb5760010190565b634e487b7160e01b600052601160045260246000fd5b6004811015610c035760051b60040190565b634e487b7160e01b600052603260045260246000fd5b906004811015610c035760051b0190565b356001600160a01b0381168103610b5d5790565b6080810190811067ffffffffffffffff821117610c5a57604052565b634e487b7160e01b600052604160045260246000fd5b90601f8019910116810190811067ffffffffffffffff821117610c5a57604052565b91908201809211610bdb57565b6004821015610c03570190600090565b90816020910312610b5d57518015158103610b5d579056fea26469706673582212201af00a3eb398ac31bf223437fe81a1a2308fc708a6caa25d1a8ee2775f721cb064736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
